{"version":3,"sources":["services/account/account-models.ts","services/account/account-service.ts","C:/justeat/sergey-balaboskin/Aurelia-ts/app_dream/src/Dream.Space/src/services/indicator/indicator-models.js","services/indicator/indicator-service.ts","C:/justeat/sergey-balaboskin/Aurelia-ts/app_dream/src/Dream.Space/src/services/articles/article-models.js","services/settings/settings-service.ts","app.ts","environment.ts","infrastructure/event-emitter.ts","infrastructure/error-interceptor.ts","main.ts","form-validation/bootstrap-form-renderer.ts","resources/index.ts","components/footer/dream-footer.ts","components/header/dream-header.ts","services/articles/article-service.ts","components/studies/navigation.ts","components/studies/study.ts","components/user/login.ts","components/user/navigation.ts","resources/value-converters/blob-to-url.ts","resources/value-converters/filelist-to-array.ts","services/file-storage/storage-service.ts","components/nav-menu/main-nav/main-nav.ts","components/studies/category-nav/category-nav.ts","resources/elements/article-parts/article-part-actions.ts","resources/elements/article-parts/article-part-heading.ts","resources/elements/article-parts/article-part-image.ts","resources/elements/article-parts/article-part-list.ts","resources/elements/article-parts/article-part-new.ts","resources/elements/article-parts/article-part-paragraph.ts","resources/elements/article-parts/article-parts.ts","app.less","styles/_fonts.less","styles/_body.less","styles/_sub-nav.less","styles/_variables.less","components/footer/dream-footer.less","components/header/dream-header.less","components/nav-menu/main-nav/main-nav.less","components/studies/category-nav/category-nav.less"],"names":[],"mappings":"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,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAChE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,MAAM,GAAG,OAAO,CAAC;YAC3C,CAAC;QACL,CAAC;QAGL,mBAAC;IAAD,CA1IA,AA0IC,IAAA;IAzIa;QAAT,4BAAQ;;+CAA2B;IAD3B,YAAY;QADxB,8BAAU;iDAS6B,+BAAa,EAA2B,0CAAe;OARlF,YAAY,CA0IxB;IA1IY,oCAAY;;;ACNzB,SAAS;;AEET;EAEI,WAAA;ACFJ,EDGI,YAAA;AELJ,EFMI,ACFA,aDEa,kBAAb,WCFA;AEJJ,EHQI,eAAA;AINJ,AHAA,EDOI,MCHA,UDGA;AKLA,EDDA,AJOA,ACHI,MIHsB,ODDb,CJOb,QIPsB,CHIlB,6CGJJ;AEAJ,APMA,EKMI,ACgDJ,ALnDI,ACJI,QGOJ,ACVI,ILOQ,ICJR,+GDIJ;EIIA,AEXA,ANYA,ADPF,AEDM,EIHI,UDUR,CCVQ,ANIG,GEDP,KDQJ,cDPF,OOLE;APIJ,EKQI,AJCA,ADPF,AEDM,SGOJ,ALNO,GEDH,gBDQJ,uBDPF;AORF,EFeI,AJCA,ADTF,AAEA,AEDM,MKJJ,GPKO,CKMP,EHPI,CFDO,WCSX,WDTF,wBAE2D,OAAO,0BAA0B,4CAA4C,OAAO,aAAa,2CAA2C,OAAO,iBAAiB,uEAAuE,OAAO,MAA7S;AMVF,EDiBI,AEXI,APGN,MMFE,GNEO,OKQP,OEXI,4BPGN;ACTF,ACAA,EGkBI,ACTI,ACFA,APGN,ECUE,IChBA,GFMO,KEAH,EKHA,GFWJ,uBCTI,iBNCqD,OAAO,0BAA0B,4CAA4C,OAAO,aAAa,2CAA2C,OAAO,iBAAiB,uEAAuE,OAAO,MAA7S;ACVF,EImBI,AEXI,ANNJ,ACSQ,EDSL,EAAC,MIDJ,CJjBA,ICSQ,CKHJ;ADRR,ECSQ,ANNJ,AAkBI,ACTI,MIDR,GAAE,GCFE,ANNJ,CKSI,CLSA,ICTI;AGZZ,ECaY,ACHJ,ANNJ,ACSQ,UGVR,CCUQ,CCHJ,ALGI,CDTK,EIDR,MAAM,UJCX;AIJJ,AJAA,EKcY,ALRR,EAkBA,EAAC,MIrBe,ACWR,KDXa,AJGrB,MIH2B,IAAG;AAHlC,AECA,ALDA,EIeY,ALRR,AAkBI,MMpBJ,ALDA,IGDsC,IEQlC,ANcA,ACfA,CGPuC,CJI3C,EKQQ,GDZyC,EHYzC,EGZ4C;EAChD,ACYI,ACJA,ANJR,ACQY,cDRZ,CMIQ,CDIA,CJAI,YGZR;AJJR,EMaY,ANHR,ACOY,EDOZ,EAAC,QAdW,MMGJ,KNaJ,GCTQ,qGDPZ;AIVJ,ACiBY,ECHA,ANCR,AAYQ,MKhBR,GAAE,CDJF,EEOQ,CDFJ,CLeI,EKVC,KLFT,CIRY,KAAK,IAAG;AHPxB,EGQQ,ACUQ,ALFZ,MCMA,QIJY,EDVR,YJQJ;AMfJ,ANDA,EISQ,AJQJ,ACMI,EDQJ,IM1BA,QAMI,KFFA,AHcA,IKPI,CNCR;AKjBJ,EDUQ,AEOQ,ANeR,MKrBJ,GAAE,IACE,ALoBA,GItBA,ACWI,CCJI;ANjBhB,ACAA,EIsBgB,ACJA,ENEZ,ICMA,YIJY,AJIA,QKRA;AFlBhB,AJAA,EKuBgB,AJIP,EDPF,AAcH,EAdI,MICJ,KAAK,ACEO,ALYR,GCRC,EGNK,IAAG;AArBjB,AECA,EDuBgB,ALHR,AAeI,ACRH,MKLL,IFFqB,AHOhB,IDPD,CIAsB,GCGd,ALYJ,EIfuB,IAAG;EAC9B,ACGQ,ACDR,gBDCwB,GCDxB,EFFA,MCGQ;ALzBhB,AAsCY,ACtCZ,EGuBQ,ACGQ,ELFZ,AAUA,EAVC,ECED,SDSI,GCTQ,KAGR,EIHQ,IDHR,AJeK;AMrCb,EFuBQ,ACGQ,ALFR,AAcQ,ACTJ,MKHR,QFHI,AJCA,IMEQ,ELGJ,CDSI,EKZA;EACA,ACAP,ANYO,ACTJ,UDSI,IKZA,AJGJ,IKHH;AF5BT,AJAA,EK6BgB,ACAP,ANYO,ACTJ,EDRR,EAAC,MIGD,AEEK,KFFA,CHKmB,IGLd,GJDN,CICS,GHKL,OIHI,wDLYA;EIbR,ACEQ,ALHJ,AAeI,ACTJ,cDNA,WCMA,CGLJ,ACEQ,wDLYA;AMzChB,QA0BI,YAAY,KAGR;AF9BR,ACgCY,ALhCZ,ACoCQ,EKLI,ENAR,AAgBA,IKpCA,AJeA,GIfE,CDoBF,GCnBI,GAoBK,EJNG,EKKJ,EDEI,CJGP;EGJG,ACEQ,ACFR,ANAJ,AAgBA,ACXI,SGLA,IJAJ,CMAI,KNgBJ,eKdY,aJGR;EGJA,AEAA,UFAA,MEAgB,WAAhB;ADIA,ALrCZ,ACwCQ,EGNI,AEAA,ENAR,AAiBA,IKxCA,AJeA,GIfE,EDuBM,ECtBJ,ELuBA,CKEK,EJXG,KIYA,AJEP,EKNG;EFCA,ACIQ,ALHR,AAgBJ,ACXI,cIFQ,CDJR,GJCA,SAgBJ,KCXI;AKJJ,EFDI,ACIQ,MCbhB,WFSQ,CETI,CDaI,ICHX;ANrCT,AAsCY,ACtCZ,EGqCY,AECA,ENJR,AAqBA,ICVA,KAAK,IGRG,AJFJ,CCUM,IAAG,SDPJ,kBMAD;ADtCZ,AJAA,EDuCgB,AAiBR,MKTJ,AJFqB,IIElB,CJFuB,KAAK,IAAG,CDNtB,IAiBR;AIxDR,AEyCQ,EDOA,ALRQ,ACMR,MKnBJ,IFIA,AJSY,MKQR,ECrBQ,GLmBR,EKLC,CFFG,IAAG;AJvCf,EIwCgB,ACSR,ACPI,ANDI,ACMR,EDYJ,UKVI,MDTQ,WHOR,GKLI,0DNDI;EIAA,ACSR,ALRQ,AAkBR,SInBQ,CCSR,eLUA,yDAlBQ;AMzChB,EFyCgB,ACSR,MCLJ,KAAK,GDKD,ECLM,EFJE,EEIC;AA7CjB,ANDA,EI2CgB,ACSR,ELLJ,IMDqB,KAAK,EDMtB,GCN2B,IAAG,CFHtB;EACA,ACSR,ACNA,ANCA,WIJQ,QJIR,EKKA,ACNA;EFFQ,AEGR,aFHQ,gBEGR;ADhDR,ALAA,IAmDI,IKJA,IAAG,OAQC,GAAE;ADvDV,ECwDY,ALJJ,QKII,EDzBR,cAiBQ,GJIJ,EIJQ;EACA,cAAA;AJjDhB,EIkDgB,EJKZ,eILY;EACA,AJKR,eILQ,UJKR;EIJQ,iBAAA;AJpDhB,EIqDgB,EJMZ,gBINY;EACA,AJMR,QINQ,iBJMR;;AI5DR,AHAA,YG+BI,cA0BQ;AAzDZ,EHEI,UG6BA,cA0BW,EAAC,gBHvDZ;EGwDY,qBAAA;AH1DhB,QAII;EACI,uBAAA;EACA,gBAAA;EACA,gBAAA;EACA,YAAA;EACA,YAAA;;AATR,QAII,QAMI;EACI,eAAA;EACA,kBAAA;EACA,YAAA;;AAbZ,QAII,QAMI,SAKI;EACI,iBAAA;EACA,0BAAA;;AAjBhB,QAsBI;EACI,mBAAA;;AAvBR,QA0BI,YAAY;EACP,kBAAA;EACA,UAAA;;AA5BT,QA0BI,YAAY,KAGR;EACI,oBAAA;EACA,cAAA;EACA,gBAAgB,WAAhB;EACA,yBAAA;;AAGJ,QAVJ,YAAY,KAUP;EACG,+CAAA;;AAGJ,QAdJ,YAAY,KAcP;EACG,gCAAA;;AAzCZ,QA6CI,KAAK,KAAK,IAAG;AA7CjB,QA6CyB,KAAK,KAAK,IAAG;EAC9B,qBAAA;EACA,6BAAA","file":"app-bundle.js","sourcesContent":["export class UserInfo {\n    username: string;\n    firstName: string;\n    isAuthenticated: boolean;\n}\n\nexport class LoginResponse {\n    user: UserInfo;\n    status: number;\n}\n\nexport class UserUpdateResponse {\n    status: number;\n    user: UserInfo;\n}","import { autoinject } from \"aurelia-framework\";\nimport { HttpClient, json } from \"aurelia-fetch-client\";\nimport {UserInfo, LoginResponse, UserUpdateResponse } from \"./account-models\";\n\n@autoinject\nexport class AccountService {\n\n    currentUser: UserInfo;\n\n    constructor(private http: HttpClient) {\n    }\n\n    async initialize() : Promise<UserInfo> {\n        let response = await this.http.fetch(\"account/user\");\n        this.currentUser = await response.json();\n\n        return this.currentUser;\n    }\n\n\n    async login(username, password): Promise<LoginResponse> {\n        const loginRequest = {\n            Email: username,\n            Password: password,\n            RememberMe: true\n        };\n\n        const response = await this.http.fetch(\"account/login\",\n            { method: 'post', body: json(loginRequest) }\n        );\n\n        const result = await response.json() as LoginResponse;\n        this.currentUser = result.user;\n\n        return result;\n    }\n\n    async logout() {\n        let response = await this.http.fetch(\"account/logout\",\n        {\n            method: 'post'\n        });\n\n        return await response.json();\n    }\n\n    async update(user: UserInfo): Promise<UserUpdateResponse> {\n        let updateRequest = {\n            Username: user.username,\n            FirstName: user.firstName\n        };\n\n        let response = await this.http.fetch(\"account/update\",\n        {\n            method: \"put\",\n            body: json(updateRequest)\n            });\n\n        let result = await response.json() as UserUpdateResponse;\n        this.currentUser = result.user;\n\n        return result;\n    }\n\n}\n\n",null,"import { autoinject } from \"aurelia-framework\";\nimport { HttpClient, json } from 'aurelia-fetch-client';\nimport {IndicatorCore, IndicatorInfo } from \"./indicator-models\";\n\n@autoinject\nexport class IndicatorService {\n\n    constructor(private http: HttpClient) {\n    }\n\n    async getNames(): Promise<IndicatorCore[]> {\n\n        let response = await this.http.fetch('indicator/all',\n        {\n            method: 'get'\n        });\n\n        return await response.json();\n    }\n\n    async getIndicator(id) : Promise<IndicatorInfo> {\n\n        let response = await this.http.fetch('indicator/' + id, { method: 'get' });\n        return await response.json();\n    }\n\n    async getIndicatorsForPeriod(period): Promise<IndicatorInfo[]> {\n\n        let response = await this.http.fetch('indicator/' + period + '/all', { method: 'get' });\n        return await response.json();\n    }\n\n    async deleteIndicator(id) {\n        await this.http.fetch(\"indicator/\" + id, { method: 'delete' });\n    }\n\n    async saveIndicator(indicator): Promise<IndicatorInfo>{\n        let response = await this.http.fetch(\"indicator\",\n        {\n            method: 'post',\n            body: json(indicator)\n        });\n        return await response.json();\n    }\n\n}\n\n\n",null,"import { autoinject } from \"aurelia-framework\";\r\nimport { HttpClient } from 'aurelia-fetch-client';\r\nimport {IndicatorService} from \"../indicator/indicator-service\";\r\nimport {SectionInfo} from \"../articles/article-models\";\r\nimport {IndicatorCore} from \"../indicator/indicator-models\";\r\n\r\n@autoinject\r\nexport class SettingsService {\r\n\r\n    sections: SectionInfo[];\r\n    periods: {}[];\r\n    initialized: boolean;\r\n    homePage: string;\r\n    indicators: IndicatorCore[];\r\n    defaultPeriod: {};\r\n\r\n\r\n    constructor(private http: HttpClient, private indicatorService: IndicatorService) {\r\n\r\n        this.sections = [];\r\n        this.initialized = false;\r\n        this.homePage = 'studies';\r\n        this.indicators = [];\r\n\r\n        this.periods = [\r\n            { id: 0, name: 'Daily', url: 'daily' },\r\n            { id: 1, name: 'Weekly', url: 'weekly' }\r\n        ];\r\n\r\n        this.defaultPeriod = this.periods[0];\r\n    }\r\n\r\n    getStudiesSection() {\r\n        if (this.initialized) {\r\n            return this.sections.find(s => s.url === \"studies\");\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getSection(sectionId) {\r\n        if (this.initialized) {\r\n            return this.sections.find(s => s.sectionId === sectionId);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    async initialize() {\r\n        let sectionsResponse = await this.http.fetch(\"article/sections\");\r\n        this.sections = await sectionsResponse.json() as SectionInfo[];\r\n\r\n        this.indicators = await this.indicatorService.getNames();\r\n        this.initialized = true;\r\n    }\r\n\r\n    getIndicators(period) {\r\n        return this.indicators.filter(indicator => indicator.period === period);\r\n    }\r\n\r\n}\r\n","import { autoinject } from \"aurelia-framework\";\r\nimport { Router, RedirectToRoute } from \"aurelia-router\";\r\nimport {AccountService} from \"./services/account/account-service\";\r\nimport {UserInfo} from \"./services/account/account-models\";\r\nimport {SettingsService} from \"./services/settings/settings-service\";\r\n\r\n@autoinject\nexport class App {\n\n    router: Router;\n    user: UserInfo;\n\n    constructor(private account: AccountService) {\r\n        this.user = this.account.currentUser;\r\n    }\n\n    configureRouter(config, router: Router) {\r\n\r\n        config.title = 'Dream Space';\r\n        config.options.pushState = true;\r\n        this.router = router;\r\n        config.addPipelineStep('authorize', AuthorizeStep);\r\n\r\n        config.map([\r\n            { route: [\"user\"], moduleId: \"./components/user/navigation\", name: \"user\", title: \"Login\", nav: false },\r\n            { route: [\"studies\"], moduleId: \"./components/studies/navigation\", name: \"studies\", title: \"Studies\", nav: true },\r\n            { route: '', redirect: \"studies\" }\r\n\r\n        ]);\r\n    }\r\n\n}\n\n@autoinject\nclass AuthorizeStep {\r\n\r\n    isAuthenticated: boolean;\r\n    homePage: string;\r\n\r\n    constructor(account: AccountService, settings: SettingsService) {\r\n        this.isAuthenticated = account.currentUser.isAuthenticated;\r\n        this.homePage = settings.homePage;\r\n    }\r\n\r\n    run(navigationInstruction, next) {\r\n        if (navigationInstruction.getAllInstructions().some(i => i.config.auth)) {\r\n\r\n            if (this.isAuthenticated) {\r\n                return next();\r\n            } else {\r\n                return next.cancel(new RedirectToRoute('user'));\r\n            }\r\n        } else {\r\n            if (navigationInstruction.getAllInstructions()\r\n                .some(i => i.config.name === 'user-login' && this.isAuthenticated)) {\r\n                return next.cancel(new RedirectToRoute(this.homePage));\r\n            }\r\n            return next();\r\n        }\r\n    }\r\n\r\n}\n","const settings: EnvironmentSettings = {\r\n  debug: true,\r\n  testing: true\r\n};\r\n\r\nexport default settings;","import { autoinject } from \"aurelia-framework\";\r\nimport { EventAggregator } from \"aurelia-event-aggregator\";\r\n\r\n@autoinject\r\nexport class EventEmitter {\r\n\r\n    constructor(private eventAggregator: EventAggregator) {\r\n\r\n    }\r\n\r\n    publish(eventType: \"ServerError\", data: ServerError);\r\n    publish(eventType: \"ValidationError\", data: ValidationError);\r\n\r\n    publish(eventType: EventType, data?: any) {\r\n        this.eventAggregator.publish(eventType, data);\r\n    }\r\n\r\n    subscribe(eventType: \"ServerError\", handler: (event: ServerError) => void);\r\n    subscribe(eventType: \"ValidationError\", handler: (event: ValidationError) => void);\r\n\r\n    subscribe(eventType: EventType, handler: (event?: any) => void) {\r\n        return this.eventAggregator.subscribe(eventType, handler);\r\n    }\r\n}\r\n\r\ntype EventType = \"ServerError\" | \"ValidationError\";\r\n\r\ninterface ValidationError {\r\n    message: string[];\r\n}\r\n\r\ninterface ServerError {\r\n    message: string;\r\n}","import { autoinject } from \"aurelia-framework\";\r\nimport { EventEmitter } from \"./event-emitter\";\r\nimport { Interceptor } from \"aurelia-fetch-client\";\r\n\r\n@autoinject\r\nexport class ErrorInterceptor implements Interceptor {\r\n\r\n    constructor(private eventEmitter: EventEmitter) {\r\n\r\n    }\r\n\r\n    response(response: Response) {\r\n        if (response.status >= 500) {\r\n            let message = `Received ${response.status} ${response.url}`;\r\n            this.eventEmitter.publish(\"ServerError\", { message: message });\r\n        }\r\n\r\n        if (response.status === 401) {\r\n            window.location.href = \"/\";\r\n        }\r\n\r\n        if (response.status === 403) {\r\n            //TODO: handle 403\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n}","import { HttpClient } from \"aurelia-fetch-client\";\nimport { Aurelia } from \"aurelia-framework\"\nimport environment from \"./environment\";\nimport { ErrorInterceptor } from \"./infrastructure/error-interceptor\";\nimport { AccountService } from \"./services/account/account-service\";\nimport { SettingsService } from \"./services/settings/settings-service\";\n\n\n(<any>Promise).config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport async function configure(aurelia: Aurelia) {\n\n    const httpClient = aurelia.container.get(HttpClient) as HttpClient;\n    const errorInterceptor = aurelia.container.get(ErrorInterceptor) as ErrorInterceptor;\n\n    httpClient.configure(config => {\n        config\n            .useStandardConfiguration()\n            .withBaseUrl(\"api/\")\n            .withInterceptor(errorInterceptor);\n    });\n\n    const account = aurelia.container.get(AccountService) as AccountService;\n    await account.initialize();\n\n    const settings = aurelia.container.get(SettingsService) as SettingsService;\n    await settings.initialize();\n\n    aurelia.use\n        .standardConfiguration()\n        .instance(\"Account\", account)\n        .instance(\"Settings\", settings)\n        .feature(\"resources\")\n        .plugin('aurelia-dialog',\n            config => {\n                config.useDefaults();\n                config.settings.lock = false;\n                config.settings.enableEscClose = true;\n            })\n        .plugin('aurelia-validation');\n\n\n    if (environment.debug) {\n        aurelia.use.developmentLogging();\n    }\n\n    if (environment.testing) {\n        aurelia.use.plugin(\"aurelia-testing\");\n    }\n\n    aurelia.start().then(() => aurelia.setRoot());\n}\n","import {\n    RenderInstruction,\n    ValidateResult\n} from 'aurelia-validation';\n\nexport class BootstrapFormRenderer {\n    render(instruction: RenderInstruction) {\n        for (let { result, elements } of instruction.unrender) {\n            for (let element of elements) {\n                this.remove(element, result);\n            }\n        }\n\n        for (let { result, elements } of instruction.render) {\n            for (let element of elements) {\n                this.add(element, result);\n            }\n        }\n    }\n\n    add(element: Element, result: ValidateResult) {\n        if (result.valid) {\n            return;\n        }\n\n        const formGroup = element.closest('.form-group');\n        if (!formGroup) {\n            return;\n        }\n\n        if (formGroup.classList.contains('has-error')) {\n            return;\n        }\n\n        // add the has-error class to the enclosing form-group div\n        formGroup.classList.add('has-error');\n\n        // add help-block\n        const message = document.createElement('span');\n        message.className = 'help-block validation-message';\n        message.textContent = result.message;\n        message.id = `validation-message-${result.id}`;\n        formGroup.appendChild(message);\n    }\n\n    remove(element: Element, result: ValidateResult) {\n        if (result.valid) {\n            return;\n        }\n\n        const formGroup = element.closest('.form-group');\n        if (!formGroup) {\n            return;\n        }\n\n        // remove help-block\n        const message = formGroup.querySelector(`#validation-message-${result.id}`);\n        if (message) {\n            formGroup.removeChild(message);\n\n            // remove the has-error class from the enclosing form-group div\n            if (formGroup.querySelectorAll('.help-block.validation-message').length === 0) {\n                formGroup.classList.remove('has-error');\n            }\n        }\n    }\n}","import {FrameworkConfiguration} from 'aurelia-framework';\r\n\r\nexport function configure(config: FrameworkConfiguration) {\r\n    config.globalResources([\r\n        './value-converters/blob-to-url',\r\n        './value-converters/filelist-to-array'\r\n    ]);\r\n\r\n    config.globalResources([\r\n        './elements/article-parts/article-parts',\r\n        './elements/article-parts/article-part-paragraph',\r\n        './elements/article-parts/article-part-heading',\r\n        './elements/article-parts/article-part-actions',\r\n        './elements/article-parts/article-part-image',\r\n        './elements/article-parts/article-part-list',\r\n        './elements/article-parts/article-part-new'\r\n    ]);\r\n}\r\n","export class DreamFooter {\r\n    \r\n}","import { autoinject, bindable } from \"aurelia-framework\";\r\nimport { Router } from \"aurelia-router\";\r\nimport {AccountService} from \"../../services/account/account-service\";\r\nimport {UserInfo} from \"../../services/account/account-models\";\r\n\r\n@autoinject\r\nexport class DreamHeader {\r\n    @bindable router: Router;\r\n    user: UserInfo;\r\n    isAuthenticated: boolean;\r\n    loginUrl: string;\r\n\r\n\r\n    constructor(private account: AccountService) {\r\n        this.user = this.account.currentUser;\r\n    }\r\n\r\n    attached() {\r\n        this.isAuthenticated = this.user.isAuthenticated;\r\n\r\n        this.loginUrl = this.router.generate(\"account\") + '/view';\r\n    }\r\n\r\n    async logout() {\r\n        await this.account.logout();\r\n        window.location.href = \"/\";\r\n    }\r\n\r\n}","import { autoinject } from \"aurelia-framework\";\nimport { HttpClient, json } from \"aurelia-fetch-client\";\nimport {ArticleInfo, ArticleSectionInfo, ArticleCategory, ArticleCategoryInfo } from \"./article-models\";\n\n@autoinject\nexport class ArticleService {\n\n    constructor(private http: HttpClient) {\n    }\n\n\n    async getArticle(id: number) : Promise<ArticleInfo> {\n        const response = await this.http.fetch(\"article/\" + id);\n        return await response.json();\n    }\n\n    async deleteArticle(id: number) {\n        const response = await this.http.fetch(\"article/\" + id, { method: 'delete' });\n        return await response.json();\n    }\n\n    async getArticleByUrl(categotyId: number, articleUrl: string): Promise<ArticleInfo> {\n        const response = await this.http.fetch(\"article/url/\" + categotyId + \"/\" + articleUrl);\n        return await response.json();\n    }\n\n    async getSection(url: string) : Promise<ArticleSectionInfo> {\n        const response = await this.http.fetch(\"article/section/\" + url);\n        return await response.json();\n    }\n\n    async getCategories(sectionId: number): Promise<ArticleCategory[]> {\n        const response = await this.http.fetch(\"article/categories/\" + sectionId);\n        return await response.json();\n    }\n\n    async getCategory(categoryUrl: string) : Promise<ArticleCategoryInfo> {\n        const response = await this.http.fetch(\"article/category/\" + categoryUrl);\n        return await response.json();\n    }\n\n    async getFeatured(categoryId: number) : Promise<ArticleInfo> {\n        const response = await this.http.fetch(\"article/\" + categoryId + \"/featured\");\n        return await response.json();\n    }   \n\n    async getArticles(categoryId): Promise<ArticleInfo[]>{\n        let response = await this.http.fetch(\"article/\" + categoryId + \"/all\");\n        return await response.json();\n\n    }\n\n    async saveArticle(article: ArticleInfo) : Promise<ArticleInfo>  {\n        let response = await  this.http.fetch('article', {\n            method: 'post',\n            body:json(article)\n        });\n        return await response.json();\n    }\n}\n\n","import { autoinject } from \"aurelia-framework\";\r\nimport { Router } from \"aurelia-router\";\r\nimport {ArticleService} from \"../../services/articles/article-service\";\r\nimport {SettingsService} from \"../../services/settings/settings-service\";\r\nimport {SectionInfo, ArticleCategory } from \"../../services/articles/article-models\";\r\n\r\n@autoinject\r\nexport class Navigation {\r\n\r\n    router: Router;\r\n    section: SectionInfo;\r\n    menus: MenuNavigationItem [];\r\n    menu: MenuNavigationItem;\r\n    \r\n    constructor(private articleService: ArticleService, private settings: SettingsService) {\r\n        this.section = this.settings.getStudiesSection();\r\n        this.menus = [];\r\n\r\n        this.menu = {\r\n            editMode: false,\r\n            section: this.section,\r\n            editModeUrl: \"\",\r\n            items: []\r\n        };\r\n\r\n        this.loadCategories(this.section.sectionId);\r\n    }\r\n\r\n    async loadCategories(sectionId) {\r\n        let categories = await this.articleService.getCategories(sectionId);\r\n        this.menu.items = categories;\r\n        this.menus.push(this.menu);\r\n    }\r\n\r\n    configureRouter(config, router: Router) {\r\n        config.title = this.section.title;\r\n\r\n\r\n        config.map([\r\n            { route: [\"\", ':category', ':category/:article'], moduleId: \"./study\", name: \"study\" }\r\n        ]);\r\n\r\n        this.router = router;\r\n    }\r\n\r\n    selectMenuItem(categoryUrl) {\r\n        if (this.menu && this.menu.items) {\r\n            this.menu.items.forEach(item => {\r\n                item.isActive = item.url === categoryUrl;\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport interface MenuNavigationItem {\r\n    editMode: boolean;\r\n    section;\r\n    editModeUrl: string;\r\n    items: ArticleCategory[];\r\n}","import * as toastr from \"toastr\";\r\nimport { autoinject } from \"aurelia-framework\";\r\nimport { EventAggregator } from 'aurelia-event-aggregator';\r\nimport { Router, RouteConfig, NavigationInstruction } from \"aurelia-router\";\r\n\r\n\r\nimport { Navigation } from './navigation'\r\nimport { ValidationRules, ValidationController, validateTrigger } from \"aurelia-validation\";\r\nimport {ArticleService} from \"../../services/articles/article-service\";\r\nimport {BootstrapFormRenderer} from \"../../form-validation/bootstrap-form-renderer\";\r\nimport {AccountService} from \"../../services/account/account-service\";\r\nimport {ArticleInfo, ArticleCategoryInfo } from \"../../services/articles/article-models\";\r\n\r\n@autoinject\r\nexport class Study {\r\n\r\n    powerUser: boolean;\r\n    router: Router;\r\n    articleUrl: string;\r\n    subscriptions: {}[];\r\n    editMode: boolean;\r\n    article: ArticleInfo;\r\n    category: ArticleCategoryInfo;\r\n    articles: ArticleInfo[];\r\n    originalArticle: ArticleInfo;\r\n\r\n    constructor(\r\n        private eventAggregator: EventAggregator,\r\n        private articleService: ArticleService,\r\n        private navigation: Navigation,\r\n        private account: AccountService,\r\n        private validation: ValidationController) {\r\n\r\n        this.powerUser = this.account.currentUser.isAuthenticated;\r\n        this.validation.validateTrigger = validateTrigger.change;\r\n        this.validation.addRenderer(new BootstrapFormRenderer());\r\n\r\n        this.subscriptions = [];\r\n        this.editMode = false;\r\n    }\r\n\r\n    activate(params, routeconfig: RouteConfig, navigationInstruction: NavigationInstruction) {\r\n        this.router = navigationInstruction.router;\r\n\r\n        this.articleUrl = routeconfig.name;\r\n        this.articleUrl = \"default\";\r\n        \r\n        if (!params.category) {\r\n            params.category = \"default\";\r\n        }\r\n\r\n        if (params.article) {\r\n            this.articleUrl = params.article;\r\n        }\r\n\r\n        this.loadCategory(params.category);\r\n    }\r\n\r\n    async loadArticles(categoryId: number) {\r\n        this.articles = await this.articleService.getArticles(categoryId);\r\n        this.selectSideNavigationItem();\r\n    }\r\n\r\n    async loadCategory(categoryUrl) {\r\n        this.setEditMode(false);\r\n\r\n        this.category = await this.articleService.getCategory(categoryUrl);\r\n\r\n        if (this.category && this.category.categoryId > 0) {\r\n            this.navigation.selectMenuItem(this.category.url);\r\n\r\n            let result =  await this.articleService.getArticleByUrl(this.category.categoryId, this.articleUrl);\r\n            if(result.articleId > 0) {\r\n                this.article = result;\r\n                this.setEditMode(false);\r\n                \r\n                await this.loadArticles(this.category.categoryId);\r\n            }\r\n        }\r\n    }\r\n\r\n    setEditMode(editMode) {\r\n        this.editMode = editMode;\r\n        this.navigation.menu.editMode = editMode;\r\n        this.eventAggregator.publish(\"article-edit-mode-changed\", editMode);\r\n    }\r\n\r\n    startEdit() {\r\n        this.originalArticle = Object.assign({}, this.article);\r\n\r\n        this.setEditMode(true);\r\n\r\n        ValidationRules\r\n            .ensure((u:ArticleInfo) => u.title).displayName('Strategy name').required().withMessage(`\\${$displayName} cannot be blank.`)\r\n            .ensure((u:ArticleInfo) => u.summary).displayName('Summary').required().withMessage(`\\${$displayName} cannot be blank.`)\r\n            .ensure((u:ArticleInfo) => u.url).displayName('Strategy url').required().withMessage(`\\${$displayName} cannot be blank.`)\r\n            .on(this.article);\r\n\r\n    }\r\n\r\n    cancelEdit() {\r\n        this.setEditMode(false);\r\n\r\n        if (this.article.articleId > 0) {\r\n            this.article = this.originalArticle;\r\n            this.article.editMode = false;\r\n        } else {\r\n            this.article.deleted = true;\r\n        }\r\n        this.validation.reset();\r\n    }\r\n\r\n\r\n\r\n    addArticle() {\r\n        this.article = {\r\n            articleId: 0,\r\n            categoryId: this.category.categoryId,\r\n            isFeatured: false,\r\n            deleted: false,\r\n            title: \"New Article\",\r\n            url: \"new-article\",\r\n            blocks: [],\r\n            summary: \"\",\r\n            editMode: false,\r\n            selected: false\r\n        };\r\n\r\n        this.startEdit();\r\n        this.validation.validate();\r\n    }\r\n\r\n    selectSideNavigationItem() {\r\n        let self = this;\r\n\r\n        if (this.articles && this.articles.length > 0) {\r\n            this.articles.forEach(item => {\r\n                item.selected = item.articleId === self.article.articleId;\r\n            });\r\n        }\r\n    }\r\n\r\n    navigateToArticle(url) {\r\n        if (url && url.length > 0) {\r\n            this.setEditMode(false);\r\n            let articleUrl = '/' + this.navigation.section.url + '/' + this.category.url + '/' + url;\r\n            this.router.navigate(articleUrl);\r\n        }\r\n    }\r\n\r\n    async deleteArticle() {\r\n        if (this.article && this.article.articleId > 0) {\r\n            await this.articleService.deleteArticle(this.article.articleId);\r\n        } else {\r\n            toastr.warning('Article is not selected', 'Delete Failed');\r\n        }\r\n    }\r\n\r\n    trySaveArticle() {\r\n        this.validation.validate()\r\n            .then(response => {\r\n                let valid = false;\r\n                if (response.valid === true) {\r\n                    if (this.articlePartsValidate()) {\r\n                        valid = true;\r\n                    }\r\n                }\r\n                if (valid) {\r\n                    this.saveArticle();\r\n\r\n                } else {\r\n                    toastr.warning('Please correct validation errors.', 'Validation Errors');\r\n                }\r\n            });\r\n    }\r\n\r\n    articlePartsValidate() {\r\n        if (this.article.blocks.length > 0) {\r\n            let index = this.article.blocks.findIndex(b => !b.valid);\r\n            return index === -1;\r\n        } else {\r\n            toastr.warning('Article is empty', 'Validation Errors');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    async saveArticle() {\r\n        this.setEditMode(false);\r\n\r\n        let a = await this.articleService.saveArticle(this.article)\r\n        if(a.url && a.url.length > 0) {\r\n            toastr.success(`Article staved successfully!`, 'Strategy saved');\r\n            this.navigateToArticle(a.url);\r\n        }\r\n\r\n    }\r\n}\r\n","export class Login {\r\n    \r\n}","import { Router } from \"aurelia-router\";\r\n\r\nexport class Navigation {\r\n\r\n    router: Router;\r\n\r\n    configureRouter(config, router) {\r\n        config.title = 'Login';\r\n\r\n        config.map([\r\n            { route: ['', 'login'], moduleId: \"./login\", name: \"user-login\", title: \"Login\", nav: false }\r\n        ]);\r\n\r\n        this.router = router;\r\n    }\r\n}\r\n\r\n","export class BlobToUrlValueConverter {  \r\n    toView(blob) {\r\n        let imageUrl = URL.createObjectURL(blob);\r\n        return imageUrl;\r\n    }\r\n}","export class FileListToArrayValueConverter {  \r\n    toView(fileList) {\r\n        let files = [];\r\n        if (!fileList) {\r\n            return files;\r\n        }\r\n        for(let i = 0; i < fileList.length; i++) {\r\n            files.push(fileList.item(i));\r\n        }\r\n        return files;\r\n    }\r\n}","import { autoinject } from \"aurelia-framework\";\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\n\r\n@autoinject\r\nexport class StorageService {\r\n\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n\r\n    async uploadFile(fileName, fileBody): Promise<string> {\r\n        const payload = {\r\n            fileName: fileName,\r\n            fileBody: fileBody\r\n        };\r\n\r\n        const response = await this.http.fetch(\"blob/upload\",\r\n        {\r\n            method: 'post',\r\n            body: json(payload)\r\n        });\r\n\r\n        return await response.json();\r\n    }\r\n\r\n}\r\n\r\n","import { bindable } from \"aurelia-framework\";\r\nimport { Router } from \"aurelia-router\";\r\n\r\nexport class MainNav {\r\n\r\n    @bindable router: Router = null;    \r\n}\r\n","import {MenuNavigationItem} from \"../navigation\";\r\n\r\nexport class CategoryNav {\r\n\r\n    constructor() {\r\n        this.categoriesUrl = \"\";\r\n    }\r\n\r\n    activate(menu: MenuNavigationItem) {\r\n        this.menu = menu;\r\n        this.categoriesUrl = this.menu.section.url + \"/categories/\" + this.menu.section.sectionId;\r\n    }\r\n\r\n    getUrl(menuItem) {\r\n        return \"\" + this.menu.section.url + \"/\" + menuItem.url;\r\n    }\r\n\r\n    categoriesUrl: string;\r\n    menu: MenuNavigationItem;\r\n}","import {bindable} from \"aurelia-framework\";\r\nimport {ArticleBlockInfo} from \"../../../services/articles/article-models\";\r\n\r\nexport class ArticlePartActions {\r\n    @bindable part: ArticleBlockInfo;\r\n\r\n    remove() {\r\n        if (this.part) {\r\n            this.part.action = \"Remove\";\r\n        }\r\n    }\r\n    moveUp() {\r\n        if (this.part) {\r\n            this.part.action = \"MoveUp\";\r\n        }\r\n    }\r\n    moveDown() {\r\n        if (this.part) {\r\n            this.part.action = \"MoveDown\";\r\n        }\r\n    }\r\n}","import {autoinject, bindable} from \"aurelia-framework\";\r\nimport {BindingEngine, Disposable} from 'aurelia-binding';\r\n\r\nimport {ArticleBlockInfo, HeadingType} from \"../../../services/articles/article-models\";\r\n\r\n@autoinject\r\nexport class ArticlePartHeading {\r\n    @bindable part: ArticleBlockInfo;\r\n\r\n    headingTypes: HeadingType[];\r\n    textValid: boolean;\r\n    typeValid: boolean;\r\n    subscriptions: Disposable[];\r\n\r\n    constructor (private bindingEngine: BindingEngine) {\r\n        this.headingTypes = ['H1','H2','H3','H4','H5'];\r\n        this.textValid = true;\r\n        this.typeValid = true;\r\n        this.subscriptions = [];\r\n    }\r\n\r\n    attached() {\r\n        if (!this.part.headingType) {\r\n            this.part.headingType = 'H3';\r\n        }\r\n\r\n        if (!this.part.text) {\r\n            this.part.text = '';\r\n        }\r\n\r\n        this.subscriptions.push(this.bindingEngine.propertyObserver(this.part, 'text')\r\n            .subscribe(() => this.onChange()));\r\n\r\n        this.validate();\r\n    }\r\n\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(subscription => {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    onChange() {\r\n        this.validate();\r\n    }    \r\n    \r\n    validate() {\r\n        this.typeValid = this.part.headingType.length === 2;\r\n        this.textValid = this.part.text.length > 0;\r\n\r\n        this.part.valid = this.typeValid && this.textValid;\r\n    }\r\n}","import * as toastr from \"toastr\";\r\nimport {bindable, autoinject} from 'aurelia-framework';\r\nimport {BindingEngine, Disposable} from 'aurelia-binding';\r\nimport {StorageService} from \"../../../services/file-storage/storage-service\";\r\nimport {ArticleBlockInfo } from \"../../../services/articles/article-models\";\r\n\r\n\r\n@autoinject\r\nexport class ArticlePartImage {\r\n    @bindable part: ArticleBlockInfo;\r\n    subscriptions: Disposable[];\r\n    selectedFiles: any;\r\n    textValid:boolean;\r\n    imageValid: boolean;\r\n\r\n    constructor(private blobServices: StorageService, private bindingEngine: BindingEngine) {\r\n        this.subscriptions = [];\r\n    }\r\n\r\n    attached() {\r\n        if (!this.part.imageUrl) {\r\n            this.part.imageUrl = '';\r\n        }\r\n        if (!this.part.text) {\r\n            this.part.text = '';\r\n        }\r\n\r\n        this.subscriptions.push(this.bindingEngine.propertyObserver(this.part, 'imageUrl')\r\n            .subscribe(() => this.validate()));\r\n\r\n        this.subscriptions.push(this.bindingEngine.propertyObserver(this.part, 'text')\r\n            .subscribe(() => this.validate()));\r\n\r\n        this.validate();\r\n    }\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n    validate() {\r\n        this.textValid = this.part.text.length > 0;\r\n        this.imageValid = this.part.imageUrl.length > 4;\r\n\r\n        this.part.valid = this.textValid && this.imageValid;\r\n        \r\n    }\r\n\r\n    blobToUrl(blob) {\r\n        return URL.createObjectURL(blob);\r\n    }\r\n\r\n    async uploadImage() {\r\n        if (this.selectedFiles.length > 0) {\r\n            toastr.warning('Uploading selected file', 'Uploading...');\r\n\r\n            let reader = new FileReader();\r\n            let file = this.selectedFiles.item(0);\r\n            let self = this;\r\n            reader.addEventListener(\"loadend\", function() {\r\n                if (reader.readyState === 2) {\r\n                    self.blobServices.uploadFile(file.name, reader.result)\r\n                        .then(imageUrl => {\r\n                            if (imageUrl) {\r\n                                self.part.imageUrl = imageUrl;\r\n                                toastr.success('Image uploaded successfully', 'Image Uploaded');\r\n                            } else {\r\n                                toastr.error('Sorry, this image is too big. Must be 2MB max.', 'Failed to Uploaded');\r\n                            }\r\n\r\n                        });\r\n                }\r\n            });\r\n\r\n            reader.readAsDataURL(file);\r\n        }\r\n    }\r\n}\r\n","import {bindable, autoinject} from 'aurelia-framework';\r\nimport {BindingEngine, Disposable} from 'aurelia-binding';\r\nimport {ArticleBlockInfo } from \"../../../services/articles/article-models\";\r\n\r\n@autoinject\r\nexport class ArticlePartList {\r\n    \r\n    @bindable part:ArticleBlockInfo;\r\n    itemsChangedSubscription: Disposable;\r\n    itemsSubscriptions: Disposable[];\r\n\r\n    constructor (private bindingEngine: BindingEngine) {\r\n        this.itemsSubscriptions = [];\r\n        this.itemsChangedSubscription = null;\r\n    }\r\n\r\n    partChanged(newValue) {\r\n        if (newValue ) {\r\n\r\n            if (!this.part.items) {\r\n                this.part.items = [];\r\n            }\r\n\r\n            if (this.part.items.length === 0) {\r\n                this.addItem();\r\n            }\r\n\r\n            if( !this.itemsChangedSubscription) {\r\n                this.itemsChangedSubscription = this.bindingEngine.collectionObserver(this.part.items)\r\n                    .subscribe( () => this.onItemsChanged());\r\n            }   \r\n\r\n            this.renewItemsSubscriptions();\r\n        }\r\n    }\r\n\r\n    addItem() {\r\n        this.part.items.push({ text: '', valid: false });\r\n    }\r\n    \r\n    deleteItem(index) {\r\n        this.part.items.splice(index, 1);\r\n    }\r\n\r\n    onItemsChanged() {\r\n        this.renewItemsSubscriptions();\r\n    }\r\n\r\n    renewItemsSubscriptions() {\r\n        if (this.itemsSubscriptions.length > 0) {\r\n            this.itemsSubscriptions.forEach( subscription => {\r\n                subscription.dispose();\r\n            });\r\n\r\n            this.itemsSubscriptions = [];\r\n        }    \r\n\r\n        if (this.part.items  && this.part.items.length > 0) {\r\n            let self = this;\r\n\r\n            this.part.items.forEach( item => {\r\n                self.itemsSubscriptions.push(\r\n                    self.bindingEngine.propertyObserver(item, 'text')\r\n                        .subscribe(() => self.onItemTextChange()));\r\n            });\r\n        }\r\n\r\n        this.validate();\r\n    }\r\n\r\n    onItemTextChange() {\r\n        this.validate();\r\n    }\r\n\r\n    validate() {\r\n        let valid = false;\r\n        if (this.part.items && this.part.items.length > 0) {\r\n            this.part.items.forEach( item => {\r\n                item.valid = item.text && item.text.length > 0;\r\n            });\r\n\r\n            valid = this.part.items.findIndex(i => !i.valid) === -1;\r\n        }\r\n        this.part.valid = valid;\r\n    }\r\n\r\n    detached() {\r\n        if (this.itemsChangedSubscription) {\r\n            this.itemsChangedSubscription.dispose();\r\n        }\r\n\r\n        if (this.itemsSubscriptions.length > 0) {\r\n            this.itemsSubscriptions.forEach( subscription => {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n}","import {bindable} from \"aurelia-framework\";\r\nimport {ArticleBlockInfo, ArticleBlockType, ArticleBlockAction } from \"../../../services/articles/article-models\";\r\n\r\nexport class ArticlePartNew {\r\n    @bindable part: ArticleBlockInfo;\r\n\r\n    partTypes: ArticleBlockType[];\r\n    partAction: ArticleBlockAction;\r\n    canAdd: boolean;\r\n    selectedType: ArticleBlockType;\r\n\r\n    constructor () {\r\n        this.partTypes = [\"Paragraph\" , \"Heading\" , \"Image\" , \"List\"];\r\n\r\n        this.canAdd = false;\r\n        this.selectedType = \"Unset\";\r\n    }\r\n\r\n    onTypeChange() {\r\n        this.canAdd = this.selectedType !== \"Unset\";\r\n    }\r\n\r\n    add() {\r\n        this.part.type = this.selectedType;\r\n    }\r\n\r\n    cancel() {\r\n        this.part.action = \"Remove\";\r\n    }\r\n}","import {autoinject, bindable } from \"aurelia-framework\";\r\nimport {BindingEngine, Disposable} from 'aurelia-binding';\r\nimport {ArticleBlockInfo } from \"../../../services/articles/article-models\";\r\n\r\n@autoinject()\r\nexport class ArticlePartParagraph {\r\n    @bindable part: ArticleBlockInfo;\r\n    subscriptions: Disposable[];\r\n    textValid: boolean;\r\n\r\n    constructor (private bindingEngine: BindingEngine) {\r\n        this.subscriptions = [];\r\n    }\r\n\r\n    attached() {\r\n        if (!this.part.text) {\r\n            this.part.text = '';\r\n        }\r\n\r\n        this.subscriptions.push(this.bindingEngine.propertyObserver(this.part, 'text')\r\n            .subscribe(() => this.onChange()));\r\n\r\n        this.validate();\r\n    }\r\n\r\n    detached() {\r\n        if (this.subscriptions.length > 0) {\r\n            this.subscriptions.forEach( subscription => {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    onChange() {\r\n        this.validate();\r\n    }    \r\n    \r\n    validate() {\r\n        this.textValid = this.part.text.length > 0;\r\n\r\n        this.part.valid = this.textValid;\r\n    }\r\n\r\n}","import {autoinject, bindable} from \"aurelia-framework\";\r\nimport {BindingEngine, Disposable} from 'aurelia-binding';\r\nimport {EventAggregator, Subscription} from 'aurelia-event-aggregator';\r\nimport { ArticleBlockInfo, ArticleBlockAction} from \"../../../services/articles/article-models\";\r\n\r\n@autoinject\r\nexport class ArticleParts {\r\n    @bindable parts: ArticleBlockInfo[];\r\n    editMode: boolean;\r\n\r\n    partsSubscriptions: Subscription[];\r\n    eventSubscriptions: Subscription[];\r\n    partsChangedSubscription: Disposable;\r\n\r\n    constructor (private bindingEngine: BindingEngine, private eventAggregator: EventAggregator) {\r\n        this.parts = [];\r\n        this.editMode = false;\r\n        this.partsSubscriptions = [];\r\n        this.partsChangedSubscription = null;\r\n        this.eventSubscriptions = [];\r\n    }\r\n\r\n    attached() {\r\n        this.eventSubscriptions.push(\r\n            this.eventAggregator.subscribe(\"article-edit-mode-changed\", flag => this.setEditMode(flag)));\r\n\r\n    }\r\n\r\n    setEditMode(flag) {\r\n        this.editMode = flag;\r\n        if (this.parts) {\r\n            this.parts.forEach(item => {\r\n                item.editMode = flag;\r\n            });\r\n        }\r\n    }\r\n\r\n    partsChanged(newValue) {\r\n        if (newValue ) {\r\n            if( !this.partsChangedSubscription) {\r\n                this.partsChangedSubscription = this.bindingEngine.collectionObserver(this.parts).subscribe( () => this.onPartsChanged());\r\n            }   \r\n\r\n            this.renewPartsSubscriptions();\r\n        }\r\n    }\r\n\r\n    detached() {\r\n        if (this.partsChangedSubscription) {\r\n            this.partsChangedSubscription.dispose();\r\n        }\r\n\r\n        if (this.eventSubscriptions.length > 0) {\r\n            this.eventSubscriptions.forEach(subscription => {\r\n                subscription.dispose();\r\n            });\r\n        }        \r\n        \r\n        if (this.partsSubscriptions.length > 0) {\r\n            this.partsSubscriptions.forEach( subscription => {\r\n                subscription.dispose();\r\n            });\r\n        }\r\n    }\r\n\r\n    addPart() {\r\n        let part: ArticleBlockInfo = {\r\n            type: \"Unset\",\r\n            editMode: true,\r\n            text:\"\",\r\n            action: \"Unset\"\r\n        };\r\n\r\n        let index = this.parts.findIndex(p => p.type === part.type);\r\n        if (index === -1) {\r\n            this.parts.push(part);\r\n        }\r\n    }\r\n    \r\n    onPartsChanged() {\r\n        this.renewPartsSubscriptions();\r\n    }\r\n\r\n    renewPartsSubscriptions() {\r\n        if (this.partsSubscriptions.length > 0) {\r\n            this.partsSubscriptions.forEach(function(subscription) {\r\n                subscription.dispose();\r\n            });\r\n\r\n            this.partsSubscriptions = [];\r\n        }    \r\n\r\n        if (this.parts  && this.parts.length > 0) {\r\n            let self = this;\r\n\r\n            this.parts.forEach(function(item) {\r\n                self.partsSubscriptions.push(\r\n                    self.bindingEngine.propertyObserver(item, 'action')\r\n                        .subscribe((action) => self.onPartActionChange(action)));\r\n            });\r\n        }\r\n    }\r\n\r\n    onPartActionChange(action: ArticleBlockAction) {\r\n        \r\n        switch (action) {\r\n            case \"Remove\":\r\n                this.removeDeletedPart();\r\n            break;\r\n            case \"MoveUp\":\r\n                this.movePartUp();\r\n            break;\r\n            case \"MoveDown\":\r\n                this.movePartDown();\r\n            break;\r\n        default:\r\n        }\r\n    }\r\n\r\n    removeDeletedPart() {\r\n        let index = this.parts.findIndex(p => p.action === \"Remove\");\r\n        if (index !== -1) {\r\n            this.parts.splice(index, 1);\r\n        }\r\n    }\r\n\r\n\r\n    movePartUp() {\r\n        let index = this.parts.findIndex(p => p.action === \"MoveUp\");\r\n        if(index > 0) {\r\n            this.parts.splice(index - 1, 0, this.parts.splice(index, 1)[0]);\r\n            this.parts[index - 1].action = \"Unset\";\r\n        }\r\n    }\r\n\r\n    movePartDown() {\r\n        let index = this.parts.findIndex(p => p.action === \"MoveDown\");\r\n        if(index > -1 && index < this.parts.length - 1) {\r\n            this.parts.splice(index + 1, 0, this.parts.splice(index, 1)[0]);\r\n            this.parts[index + 1].action = \"Unset\";\r\n        }\r\n    }\r\n\r\n\r\n}","@charset 'UTF-8';\r\n\r\n@import \"./styles/common\";\r\n","@import url(//fonts.googleapis.com/css?family=Ubuntu:400,500);\r\n@import url(//fonts.googleapis.com/css?family=Hind+Vadodara:300,400,500);\r\n@import url(//fonts.googleapis.com/css?family=Open+Sans:400|Roboto);\r\n@import url(//fonts.googleapis.com/css?family=Istok+Web:400,700);\r\n@import url(//fonts.googleapis.com/css?family=Inder);\r\n@import url(//fonts.googleapis.com/css?family=Raleway);\r\n@import url(//fonts.googleapis.com/css?family=PT+Sans);\r\n@import url(//fonts.googleapis.com/css?family=Lato);\r\n\r\n@font-face {\r\n  font-family: 'Glyphicons Halflings';\r\n  src: url('/fonts/glyphicons-halflings-regular.eot');\r\n  src: url('/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('/fonts/glyphicons-halflings-regular.woff') format('woff'), url('/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('/fonts/glyphicons-halflings-regular.svg#glyphicons-halflingsregular') format('svg');\r\n}\r\n","@import \"_variables\";\r\n\r\nbody\r\n{\r\n    width: 100%;\r\n    height: 100%;\r\n    font-family: 'Lato', sans-serif;\r\n\r\n    font-size: 14px;\r\n    line-height: 1.6;\r\n    color: @font-color;\r\n\r\n    background: linear-gradient(to top, \r\n        rgba(255,255,255,0.8) 100%,\r\n        rgba(255,255,255,1) 0%), \r\n        url(/Content/Images/emma_bg_.jpg) no-repeat 0 0;\r\n\r\n    background-size:100%;\r\n    background-attachment: fixed;\r\n    background-position: top; \r\n\r\n\r\n    a, a:hover {\r\n        color: @link-color;\r\n    }\r\n\r\n    a[first-letter-span] {\r\n        color: @header-color;\r\n        span {\r\n            color: @link-color;\r\n        }\r\n    }\r\n\r\n    .aurelia-validation-message {\r\n        display: none;\r\n    }\r\n    .has-success { \r\n        .form-control {\r\n            border-color: #ccc;\r\n        \r\n            &:focus {\r\n                border-color: #66afe9;\r\n                outline: 0;\r\n                -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\r\n                box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\r\n            }\r\n        }\r\n    }\r\n\r\n    .no-border {\r\n        border:0!important;\r\n    }\r\n\r\n    .right {\r\n        text-align: right!important;\r\n    }\r\n\r\n    .uppercase {\r\n        text-transform: uppercase;\r\n    }\r\n\r\n    .pointer {\r\n        cursor: pointer!important;\r\n    }\r\n}","@import \"_variables\";\r\n\r\n.sub-nav {\r\n    //visibility:hidden;\r\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.2);\r\n\r\n    .navbar {\r\n        background-color: white;\r\n        margin-bottom: 0;\r\n        min-height: 32px;\r\n        height: 32px;\r\n        z-index: 900;\r\n        .actions {\r\n            margin-top: 3px;\r\n            margin-right: -4px;\r\n            float: right;\r\n\r\n            .btn {\r\n                padding:4px 10px;\r\n                border-radius: 4px 4px 0 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    .navbar-nav {\r\n        margin-bottom:-2px;\r\n    }\r\n\r\n    .navbar-nav > li {\r\n         margin-right: 20px;\r\n         padding:0;\r\n        a {\r\n            padding: 8px 0 3px 0;\r\n            color: #252d2c;\r\n            font: 13px/20px 'Istok Web';\r\n            text-transform: uppercase;\r\n        }\r\n\r\n        &:hover {\r\n            border-bottom: 3px solid rgba(226, 32, 4, 0.38);\r\n        }\r\n        \r\n        &.active {\r\n            border-bottom: 3px solid @link-color;\r\n        }        \r\n        \r\n    }\r\n    .nav > li > a:hover, .nav > li > a:focus {\r\n        text-decoration: none;\r\n        background-color: transparent;\r\n    }\r\n}\r\n","@link-color: #e22004;\r\n@body-bg-color: #FFF;\r\n@main-menu-bg-color: #F2F2F2;\r\n@font-color: #333333;\r\n@font-color-error: #CA1D04;\r\n@font-color-ok: #5cb85c;\r\n@font-color-warn: #f0ad4e;\r\n@font-color-pale: rgba(0,0,0,.55);\r\n\r\n@h3-color: #e22004;\r\n@error-border-color: #e22004;\r\n@error-font-color: #e22004;\r\n@dotted-border-color: #777;\r\n@solid-border-color: rgba(204, 204, 204, 0.36);\r\n@article-block-bg-edit: #F8F8F8;\r\n@form-control-border-color: #ccc;\r\n@header-color:rgb(45, 73, 69);\r\n@input-bg-readonly: rgba(223, 223, 223, 0.13);\r\n@article-parts-bg: rgba(223, 223, 223, 0.13);\r\n@main-nav-bg: rgba(161, 161, 161, 0.2);\r\n@article-parts-input-bg: rgba(255, 255, 255, 0.4);\r\n//@input-bg-readonly: transparent;\r\n@page-bg-section: rgba(255, 255, 255, 0.66);\r\n@page-bg-content: rgba(255, 255, 255, 0.7);\r\n@btn-default-border-color: #c9302c;\r\n@btn-default-bg-hover: rgba(201, 48, 44, 0.05);\r\n@btn-danger-bg: #e22004;","@import \"../..//styles/_variables\";\r\n\r\ndream-footer {\r\n\r\n}","@import \"../../styles/_variables\";\r\n\r\ndream-header {\r\n    font-family: 'Arial', \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n\r\n    .nav .open > a, .nav .open > a:hover, .nav .open > a:focus {\r\n        background-color: transparent;\r\n    }\r\n\r\n    .navbar-nav > li > a.dropdown-toggle  {\r\n        padding-top: 0px;\r\n        padding-bottom: 0px;\r\n        margin-top: 24px;\r\n    }\r\n\r\n    top: 0px;\r\n    z-index: 999;\r\n    left: 0px;\r\n    right: 0px;\r\n    margin: 0px auto;\r\n    background: #ffffff;\r\n    padding: 0;\r\n\r\n    .nav > li > a:hover, .nav > li > a:focus {\r\n        text-decoration: none;\r\n        background-color: transparent;\r\n        color: #e22004;\r\n    }\r\n    \r\n    .nav > li > a:hover {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    .navbar-brand {\r\n            margin: 0;\r\n            padding: 0;\r\n            float: left;\r\n            font-size: 26px;\r\n            line-height: 52px;\r\n            cursor: pointer;\r\n\r\n            img.logo {\r\n                margin-right: -2px;\r\n                top: -2px;\r\n                position: relative;\r\n                display: inline-block;\r\n                width: 47px;\r\n                opacity: 0.96;\r\n            }\r\n\r\n            span.pound {\r\n                color: @link-color;\r\n                font-weight: bold;\r\n                font-size: 46px;\r\n                line-height: 25px;\r\n                position: relative;\r\n                top: 6px;\r\n            }\r\n\r\n            a, a:hover {\r\n                text-decoration: none;\r\n            }\r\n\r\n        }\r\n\r\n}\r\n","@import \"../../../styles/_variables\";\r\n\r\nmain-nav {\r\n    //visibility: hidden;\r\n    @media (min-width: 768px) {\r\n        .navbar-nav {\r\n            float:none;\r\n        }\r\n    }\r\n    .main-nav-items {\r\n\r\n        background-color: @main-nav-bg;\r\n    }\r\n    ul.nav {\r\n        li {\r\n            float: left;\r\n            padding: 0;\r\n            position: relative;\r\n            margin-left: 1px;\r\n            &:first-child {\r\n                margin-left: 0;\r\n            }\r\n\r\n            a {\r\n                position: relative;\r\n                padding: 0 20px;\r\n                text-align: center;\r\n                font: 14px/40px 'Istok Web';\r\n                text-transform: uppercase;\r\n                background: transparent;\r\n                color: @font-color;\r\n                -webkit-transition: all 0.35s ease;\r\n                transition: all 0.35s ease;\r\n            }\r\n            &:hover {\r\n                a {\r\n                    background: rgba(226, 32, 4, 0.38);\r\n                }\r\n            }\r\n            &.active {\r\n                a {\r\n                    color: #ffffff;\r\n                    background: @link-color;\r\n                }\r\n            }            \r\n\r\n        }\r\n    }\r\n\r\n    nav.navbar {\r\n        background: none;\r\n        border: none;\r\n        padding: 0;\r\n        margin: 14px 0;\r\n        min-height: 0;\r\n        border-color: #e7e7e7;\r\n\r\n        ul.navbar-nav {\r\n            top: 5px;\r\n        }\r\n    }\r\n\r\n}\r\n","\r\n@import \"../../../styles/_variables\";\r\n\r\n.sub-nav {\r\n    //visibility:hidden;\r\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.2);\r\n\r\n    .navbar {\r\n        background-color: white;\r\n        margin-bottom: 0;\r\n        min-height: 32px;\r\n        height: 32px;\r\n        z-index: 900;\r\n        .actions {\r\n            margin-top: 3px;\r\n            margin-right: -4px;\r\n            float: right;\r\n\r\n            .btn {\r\n                padding:4px 10px;\r\n                border-radius: 4px 4px 0 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    .navbar-nav {\r\n        margin-bottom:-2px;\r\n    }\r\n\r\n    .navbar-nav > li {\r\n         margin-right: 20px;\r\n         padding:0;\r\n        a {\r\n            padding: 8px 0 3px 0;\r\n            color: #252d2c;\r\n            font: 13px/20px 'Istok Web';\r\n            text-transform: uppercase;\r\n        }\r\n\r\n        &:hover {\r\n            border-bottom: 3px solid rgba(226, 32, 4, 0.38);\r\n        }\r\n        \r\n        &.active {\r\n            border-bottom: 3px solid @link-color;\r\n        }        \r\n        \r\n    }\r\n    .nav > li > a:hover, .nav > li > a:focus {\r\n        text-decoration: none;\r\n        background-color: transparent;\r\n    }\r\n}\r\n"],"sourceRoot":"../src"}